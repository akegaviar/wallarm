.. _installation-nginxplus-ru:

======================================
Установите с использованием NGINX Plus
======================================

Варианты установки
~~~~~~~~~~~~~~~~~~

.. include:: /ru/include-ru/installation-options-ru.rst

Если вы планируете установить модуль постаналитики на отдельный сервер,
необходимо сначала установить его. :ref:`ТТК` installing-post-analytics-on-a-separate-server-pool.md

Для установки с использованием NGINX Plus вам потребуется выполнить следующие
действия:

#. Установить NGINX Plus.
#. Добавить репозитории Wallarm, из которых вы загрузите пакеты.
#. Установить пакеты Wallarm.
#. Настроить модуль постаналитики.
#. Установить лицензионный ключ.
#. Подключить фильтрующий узел к облаку Wallarm.
#. Настроить адреса сервера постаналитики.
#. Настроить режим фильтрации.

Установите NGINX Plus
~~~~~~~~~~~~~~~~~~~~~

`Официальная инструкция по установке NGINX Plus <https://www.nginx.com/resources/admin-guide/installing-nginx-plus/>`_.

Добавьте репозитории Wallarm
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Установка и обновление модуля NGINX-Plus-Wallarm происходит из репозиториев Wallarm.

В зависимости от вашей операционной системы, выполните одну из следующих команд:

.. include:: /ru/include-ru/add-repo-ru.rst

.. include:: /ru/include-ru/access-repo-ru.rst

Установите пакеты Wallarm
~~~~~~~~~~~~~~~~~~~~~~~~~

Для выполнения обработки запросов и постаналитики на одном сервере необходимо
установить следующие пакеты:

* модуль NGINX-Plus-Wallarm
* модуль постаналитики

Для выполнения только обработки запросов на сервере необходимо
установить следующие пакеты:

* модуль NGINX-Plus-Wallarm

Установите обработку запросов и постаналитику на один сервер
------------------------------------------------------------

.. include:: /ru/include-ru/install-nginx-plus-postanalytics-ru.rst

Установите только обработку запросов на сервер
----------------------------------------------

.. include:: /ru/include-ru/install-nginx-plus-ru.rst

Настройте модуль постаналитики
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note:: Пропустите этот шаг, если постаналитика установлена на отдельный
          сервер.

.. include:: /ru/include-ru/configure-postanalytics-ru.rst

Установите лицензионный ключ
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /ru/include-ru/install-license-ru.rst
Подключите фильтрующий узел к облаку Wallarm
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /ru/include-ru/connect-cloud-ru.rst

Настройте адреса сервера постаналитики
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note:: Пропустите этот шаг, если постаналитика установлена на отдельный
          сервер.

.. include:: /ru/include-ru/configure-postanalytics-address-ru.rst

Настройте режим фильтрации
~~~~~~~~~~~~~~~~~~~~~~~~~~

.. include:: /ru/include-ru/setup-filter-ru.rst

На этом установка завершена.

.. include:: /ru/include-ru/check-setup-installation-ru.rst